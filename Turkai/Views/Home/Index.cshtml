@using Turkai.Model.ExtensionModel.ElasticSearch;
@model List<ElasticImportModel>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="~/js/AddedSepet.js"></script>
    <script src="~/js/AddedLocalStorage.js"></script>

</head>

<h1>Data List</h1>
<div id="errorPopup" style="display: none;">
    <p id="errorText" style="background:#fff0f0;color:red;height:50px;"></p>
</div>


@if(Model is null || !Model.Any()){
    <div>Not found Product</div>
}else{
    <table class="table">
        <thead>
            <tr>
                <th>Id</th>
                <th>Title</th>
                <th>Detail</th>
                <th>Count</th>
                <th>Added Basket</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var data in Model)
            {
                <tr>
                    <td>@data.Id</td>
                    <td>@data.Title</td>
                    <td>
                        <a class="btn btn-primary" id="detailButton" onclick="GetDetail(@data.Id)" data-id="@data.Id">Detail</a>
                    </td>
                    <td><input type="text" id="basketSize-@data.Id" value="1"></input></td>
                    <td>
                        <a class="btn btn-primary" id="detailButton" onclick="AddedSepet(@data.Id,'@data.Title')" data-id="@data.Id">Add Basket</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>

}


<script>

    function GetDetail(Id){
        window.location.href = "/Home/Detail/" + Id;

    }
</script>